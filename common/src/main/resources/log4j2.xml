<?xml version="1.0" encoding="UTF-8"?>
<Configuration status="warn">
	<Appenders>
		<Console name="Console" target="SYSTEM_OUT">
			<PatternLayout
				pattern="%d{yyyy-MM-dd HH:mm:ss.SSS} | %25.25t | %-5level | %-80msg - (%F:%L)%n" />
		</Console>

		<Console name="ConsoleWithMdc" target="SYSTEM_OUT">
			<PatternLayout
				pattern="%d{yyyy-MM-dd HH:mm:ss.SSS} | %25.25t | %-5level | %-35.35MDC{BDEPLOY} | %-42msg - (%F:%L)%n" />
		</Console>
	</Appenders>
	<Loggers>
		<!-- Disable logging for all unless enabled -->
		<Root level="OFF">
			<AppenderRef ref="Console" />
		</Root>
		
		<!-- By default we are using INFO for all our classes -->
		<Logger name="io.bdeploy" level="info" additivity="false">
			<AppenderRef ref="Console" />
		</Logger>

		<!-- JerseyServer's log level also controls Grizzly and Jersey log levels! -->
		<Logger name="io.bdeploy.jersey.JerseyServer" level="info" additivity="false">
			<AppenderRef ref="Console" />
		</Logger>

		<!-- Always set Grizzly and Jersey levels to maximum, use JerseyServer 
			above to control actual level -->
		<Logger name="org.glassfish" additivity="false" level="trace">
			<AppenderRef ref="Console" />
		</Logger>

		<!-- UI Interface -->
		<Logger name="io.bdeploy.ui" additivity="false" level="info" >
			<AppenderRef ref="Console" />
		</Logger>

		<!-- Poor man's profiling by observing activities in the logs -->
		<Logger name="io.bdeploy.jersey.JerseySseActivity" additivity="false" level="info">
			<AppenderRef ref="Console" />
		</Logger>

		<!-- PCU -->
		<Logger name="io.bdeploy.pcu" additivity="false" level="info" >
			<AppenderRef ref="ConsoleWithMdc" />
		</Logger>
	</Loggers>
</Configuration>