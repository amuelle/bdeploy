<div class="hive-container">

  <div class="flex-row">
    <mat-chip-list>
      <mat-chip (click)="selectTop()" color="accent" selected><mat-icon>home</mat-icon></mat-chip>
      <mat-chip *ngFor="let p of paths[_hive]; index as i" (click)="selectHistory(i); hivetable.renderRows()">
        <mat-icon>{{getIcon(p)}}</mat-icon> <div [style.width.px]="6"></div>{{ p.name }}
      </mat-chip>
    </mat-chip-list>
    <div class="flex-spacer"></div>
    <app-remote-progress [scope]='[_hive]'></app-remote-progress>
    <button mat-icon-button (click)="fsckHive(false)" class="icon-button" matTooltip="Check BHive for errors." [disabled]="longRunningOperation"><mat-icon>bug_report</mat-icon></button>
    <button mat-icon-button (click)="fsckHive(true)" class="icon-button" matTooltip="Fix any errors in the BHive." [disabled]="longRunningOperation"><mat-icon>build</mat-icon></button>
    <button mat-icon-button (click)="pruneHive()" class="icon-button" matTooltip="Prune unused elements from the BHive." [disabled]="longRunningOperation"><mat-icon>delete_sweep</mat-icon></button>
  </div>

  <table mat-table [dataSource]="entries" #hivetable>

    <ng-container matColumnDef="type">
      <th mat-header-cell *matHeaderCellDef>Type</th>
      <td mat-cell *matCellDef="let element"><mat-icon (click)="selectRow(element); hivetable.renderRows()">{{ getIcon(element) }}</mat-icon></td>
    </ng-container>

    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef>Name</th>
      <td mat-cell *matCellDef="let element" (click)="selectRow(element); hivetable.renderRows()" class="wide">{{ element.name }}</td>
    </ng-container>

    <ng-container matColumnDef="delete">
      <th mat-header-cell *matHeaderCellDef></th>
      <td mat-cell *matCellDef="let element" align="right"><mat-icon class="icon-button" (click)="delete(element)" *ngIf="isTopLevelManifest(element)">delete</mat-icon></td>
    </ng-container>

    <ng-container matColumnDef="download">
      <th mat-header-cell *matHeaderCellDef></th>
      <td mat-cell *matCellDef="let element" align="right"><mat-icon class="icon-button" (click)="download(element)">cloud_download</mat-icon></td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row  [ngClass]="getCssClass(row)" *matRowDef="let row; columns: displayedColumns"></tr>

  </table>
</div>
