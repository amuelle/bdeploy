=== System Maintenance

There are several components in the Web UI which allow maintenance of *BDeploy*. These are not to be used during _normal_ operation by users. They _are_ required during setup and to maintain current software versions of *BDeploy* itself if not done using the `<<_bdeploy_cli,bdeploy remote-master>>` CLI.

==== System Software

The *System Software* page from the *Administration* menu offers a mechanism to upload new *BDeploy* software versions, deploy these versions (_upgrade_ and _downgrade_ possible) to the running *BDeploy* _master_ and attached _slaves_.

image::images/BDeploy_System_With_Launcher.png[BDeploy System Software,align=center,width=480,link="images/BDeploy_System_With_Launcher.png"]

It also offers a way to _upload_ and also to _download_ *BDeploy Launcher* binaries. These binaries are required when <<_app_info_yaml,`CLIENT` *Applications*>> are configured. Use the btn:[Upload] button to upload either new *BDeploy* or *BDeploy Launcher* versions from their respective binary distributions (_ZIP_). 

The page can also be used to download the binaries of *BDeploy* (e.g. to setup additional _slaves_) and the *BDeploy Launcher* binaries (e.g. for manual setup of the *BDeploy Launcher* on client PCs, see <<_client_applications,Client Applications>>).

==== Manual Cleanup

You can use the *Manual Cleanup* page from the *Administration* menu to trigger a manual cleanup of stuff that is not needed any more. There is no need to trigger this manually as a job is scheduled that performs the exact same operation every night: 

[%header,cols="2,3"]
|===
| Target
| Description

| *Instances* with _Auto Uninstallation_ enabled
| If the option _Automatic Uninstallation_ is enabled on an *Instance*, *Instance Versions* that are older than the activated and the previously activated *Instance Version* are uninstalled automatically.

| *Instance Groups* with _Automatic Cleanup_ enabled
| If the option _Auto Cleanup_ is enabled on an *Instance Group*, old *Product Versions* that are no longer in use by *Instances* of this *Instance Group* are deleted automatically. To avoid that a *Product* vanishes completely, the very latest *Product Version* always remains.

| Slave
| Delete *Manifests* that are not known by the master

| Slave
| Keep two *BDeploy Launcher* versions, delete all older versions.

| Slave
| Remove unused directories and files in the deployment (including pooled applications), download and temp directory.

|===

The dialog can be used to immediately trigger a cleanup and to reviewing of the actions performed _before_ doing so. 

image::images/BDeploy_Cleanup.png[BDeploy Cleanup Page,align=center,width=480,link="images/BDeploy_Cleanup.png"]

Press the btn:[Calculate Cleanup Actions] button to perform cleanup calculation. The result will be groups of actions to be performed on *Instance Groups* or *Slaves*. The result contains only *Instance Groups* and *Slaves* for which actions are actually calculated, i.e. empty lists are hidden. If no action is calculated at all, a corresponding message is displayed.

image::images/BDeploy_Cleanup_Actions.png[BDeploy Cleanup Actions,align=center,width=480,link="images/BDeploy_Cleanup_Actions.png"]

Press the btn:[Execute all Actions] button to actually perform the calculated actions.

[NOTE]
The dialog automatically resets itself after a certain timeout. This is to prevent execution of too old actions which might no longer be valid.

==== BHive Browser
The *BHive Browser* from the *Administration* menu is an internal tool for administrative purposes. It allows viewing and browsing the internals of the *BDeploy* storage. The drop-down at the top of the dialog is used to switch between the available hives. The _default_ hive is the internal storage where metadata about users and outer hives are stored. The actual data is stored in the individual hives itself.

[CAUTION]
It has the power to destroy _everything_ - use with extreme caution.

==== Log Level

You can adjust the log level of the Web UI (i.e. logging in the Browser Console) using the drop down at the bottom of the BDeploy main menu. The default value depends on whether the application is started in development (i.e. from VSCode) or production mode.

image::images/BDeploy_Main_Menu.png[BDeploy Main Menu,align=center,width=480,link="images/BDeploy_Main_Menu.png"]
